<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>GAMA Model Documentation</title>
  <meta name="description" content="Document describing the GAMA model and its functions.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="GAMA Model Documentation" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="cover.png" />
  <meta property="og:description" content="Document describing the GAMA model and its functions." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="GAMA Model Documentation" />
  
  <meta name="twitter:description" content="Document describing the GAMA model and its functions." />
  <meta name="twitter:image" content="cover.png" />

<meta name="author" content="Srirama Bhamidipati, Erika S, Arend L">


<meta name="date" content="2018-04-12">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="species.html">
<link rel="next" href="reflexes.html">
<script src="book_assets/jquery-2.2.3/jquery.min.js"></script>
<link href="book_assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">GAMA Model Documentation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Background</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#objective"><i class="fa fa-check"></i><b>1.1</b> Objective</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#methods"><i class="fa fa-check"></i><b>1.2</b> Methods</a><ul>
<li class="chapter" data-level="1.2.1" data-path="introduction.html"><a href="introduction.html#case-tourism-expansion-in-amsterdam"><i class="fa fa-check"></i><b>1.2.1</b> Case: Tourism expansion in Amsterdam</a></li>
<li class="chapter" data-level="1.2.2" data-path="introduction.html"><a href="introduction.html#participatory-urban-modelling-pum"><i class="fa fa-check"></i><b>1.2.2</b> Participatory Urban Modelling (PUM)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="imports.html"><a href="imports.html"><i class="fa fa-check"></i><b>2</b> Imports</a></li>
<li class="chapter" data-level="3" data-path="species.html"><a href="species.html"><i class="fa fa-check"></i><b>3</b> Species</a><ul>
<li class="chapter" data-level="3.1" data-path="species.html"><a href="species.html#road"><i class="fa fa-check"></i><b>3.1</b> road</a></li>
<li class="chapter" data-level="3.2" data-path="species.html"><a href="species.html#buildings"><i class="fa fa-check"></i><b>3.2</b> buildings</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>4</b> Functions</a><ul>
<li class="chapter" data-level="4.1" data-path="functions.html"><a href="functions.html#update_mode_specific_memory"><i class="fa fa-check"></i><b>4.1</b> update_mode_specific_memory()</a><ul>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#arguments"><i class="fa fa-check"></i>arguments</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#returns"><i class="fa fa-check"></i>returns</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#usage"><i class="fa fa-check"></i>usage</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="functions.html"><a href="functions.html#evening_movement"><i class="fa fa-check"></i><b>4.2</b> evening_movement()</a><ul>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#arguments-1"><i class="fa fa-check"></i>arguments</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#returns-1"><i class="fa fa-check"></i>returns</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#usage-1"><i class="fa fa-check"></i>usage</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="functions.html"><a href="functions.html#morning_movement"><i class="fa fa-check"></i><b>4.3</b> morning_movement()</a><ul>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#arguments-2"><i class="fa fa-check"></i>arguments</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#returns-2"><i class="fa fa-check"></i>returns</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#usage-2"><i class="fa fa-check"></i>usage</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reflexes.html"><a href="reflexes.html"><i class="fa fa-check"></i><b>5</b> Reflexes</a></li>
<li class="chapter" data-level="6" data-path="displays.html"><a href="displays.html"><i class="fa fa-check"></i><b>6</b> Displays</a></li>
<li class="chapter" data-level="7" data-path="experiment.html"><a href="experiment.html"><i class="fa fa-check"></i><b>7</b> Experiment</a></li>
<li class="divider"></li>
<li><a href="www.wur.nl" target="blank">Published @ WUR</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">GAMA Model Documentation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="functions" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Functions</h1>
<div id="update_mode_specific_memory" class="section level2">
<h2><span class="header-section-number">4.1</span> update_mode_specific_memory()</h2>
<p>Agent memory on travel time is updated every day based on its experience today. The agent uses last five days of memory to estimate the next days travel time. This memory is mode specific. In this model, agent has 4 memories [walk, bike, pt, car]. </p>
<div class="sourceCode" id="cb1"><pre class="sourceCode php"><code class="sourceCode php"><a class="sourceLine" id="cb1-1" data-line-number="1">action update_mode_specific_memory <span class="ot">(</span><span class="kw">float</span> tt<span class="ot">,</span> <span class="kw">int</span> mode<span class="ot">)</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">  {</a>
<a class="sourceLine" id="cb1-3" data-line-number="3">        <span class="co">//tt is morning_travel_time</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">        add tt to:self.mode_specific_memory<span class="ot">[</span>mode<span class="ot">];</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">        remove index:<span class="dv">0</span> from:self.mode_specific_memory<span class="ot">[</span>mode<span class="ot">];</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6">        </a>
<a class="sourceLine" id="cb1-7" data-line-number="7">    }</a></code></pre></div>
<div id="arguments" class="section level3 unnumbered">
<h3>arguments</h3>
<ul>
<li>travel time (<code>float</code>) : the travel time experienced in the recent trip</li>
<li>mode (<code>int</code>) : the mode used by the agent in recent trip</li>
</ul>
</div>
<div id="returns" class="section level3 unnumbered">
<h3>returns</h3>
<ul>
<li>nothing : the function returns nothing, it just updates an existing variable.</li>
</ul>
</div>
<div id="usage" class="section level3 unnumbered">
<h3>usage</h3>
<ul>
<li>the following example updates memory of mode 1 = walk.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode php"><code class="sourceCode php"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">do</span> update_mode_specific_memory<span class="ot">(</span>travel_time<span class="ot">,</span> <span class="dv">1</span><span class="ot">)</span></a></code></pre></div>
</div>
</div>
<div id="evening_movement" class="section level2">
<h2><span class="header-section-number">4.2</span> evening_movement()</h2>
<p>This function makes the agent move from office to home in the evening. </p>
<div class="sourceCode" id="cb3"><pre class="sourceCode php"><code class="sourceCode php"><a class="sourceLine" id="cb3-1" data-line-number="1">action evening_movement</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">    {</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">        <span class="kw">float</span> my_speed &lt;- mode_speed_int<span class="ot">[</span>self.value_mode_actual<span class="ot">]</span> <span class="ot">;</span><span class="co">// # m / # sec;</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">        <span class="kw">do</span> <span class="kw">goto</span> target: any_location_in<span class="ot">(</span>my_home<span class="ot">)</span> on: g speed: my_speed<span class="ot">;</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">        <span class="kw">if</span> the_target = location</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">        {</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">            my_evening_home_arrive_time &lt;- current_date<span class="ot">;</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8">        }</a>
<a class="sourceLine" id="cb3-9" data-line-number="9"></a>
<a class="sourceLine" id="cb3-10" data-line-number="10">    }</a></code></pre></div>
<div id="arguments-1" class="section level3 unnumbered">
<h3>arguments</h3>
<ul>
<li>none</li>
</ul>
</div>
<div id="returns-1" class="section level3 unnumbered">
<h3>returns</h3>
<ul>
<li>nothing</li>
</ul>
</div>
<div id="usage-1" class="section level3 unnumbered">
<h3>usage</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode php"><code class="sourceCode php"><a class="sourceLine" id="cb4-1" data-line-number="1"></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw">do</span> evening_movement<span class="ot">;</span></a></code></pre></div>
</div>
</div>
<div id="morning_movement" class="section level2">
<h2><span class="header-section-number">4.3</span> morning_movement()</h2>
<p>This function makes the agent move from office to home in the evening. </p>
<div class="sourceCode" id="cb5"><pre class="sourceCode php"><code class="sourceCode php"><a class="sourceLine" id="cb5-1" data-line-number="1">action evening_movement</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">    {</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">        <span class="kw">float</span> my_speed &lt;- mode_speed_int<span class="ot">[</span>self.value_mode_actual<span class="ot">]</span> <span class="ot">;</span><span class="co">// # m / # sec;</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4">        <span class="kw">do</span> <span class="kw">goto</span> target: any_location_in<span class="ot">(</span>my_home<span class="ot">)</span> on: g speed: my_speed<span class="ot">;</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5">        <span class="kw">if</span> the_target = location</a>
<a class="sourceLine" id="cb5-6" data-line-number="6">        {</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">            my_evening_home_arrive_time &lt;- current_date<span class="ot">;</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8">        }</a>
<a class="sourceLine" id="cb5-9" data-line-number="9"></a>
<a class="sourceLine" id="cb5-10" data-line-number="10">    }</a></code></pre></div>
<div id="arguments-2" class="section level3 unnumbered">
<h3>arguments</h3>
<ul>
<li>none</li>
</ul>
</div>
<div id="returns-2" class="section level3 unnumbered">
<h3>returns</h3>
<ul>
<li>nothing</li>
</ul>
</div>
<div id="usage-2" class="section level3 unnumbered">
<h3>usage</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode php"><code class="sourceCode php"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">do</span> morning_movement<span class="ot">;</span></a></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="species.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="reflexes.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="book_assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="book_assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/AMS-CSL/ModelDoc/edit/master/04_functions.Rmd",
"text": "Edit"
},
"download": ["GAMAModelDoc.pdf", "GAMAModelDoc.epub", "GAMAModelDoc.mobi"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
